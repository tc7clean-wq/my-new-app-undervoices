import{c as V,a as B,d as D,u as H,b as T,j as e,L as O}from"./index-Dc-RHZ8Q.js";import{d as n,e as R,L as l}from"./vendor-DZhegkiK.js";import{u as E}from"./useVoiceHints-BWE_yW86.js";import"./api-ngrFHoWO.js";import"./crypto-DhyMKz0y.js";const Q=()=>{const[x,L]=n.useState([]),[h,C]=n.useState([]),[d,S]=n.useState({totalArticles:0,totalStoryboards:0,totalViews:0,totalShares:0}),[$,b]=n.useState(!0),[a,m]=n.useState("overview"),{user:y}=V(),{showNotification:A,userPreferences:g}=B(),{isOnline:M}=D(),{get:u}=H(),{announceHints:k}=E(),p=R();n.useEffect(()=>{g.enableVoiceHints&&g.showTutorials&&setTimeout(()=>{k("dashboard")},2e3)},[k,g]),n.useEffect(()=>{W()},[]);const W=async()=>{try{b(!0);const[t,i,r]=await Promise.all([u("/articles/my?limit=6"),u("/storyboards/my?limit=4"),u("/profiles/stats")]);L(t.articles||[]),C(i.storyboards||[]),S(r.stats||d)}catch(t){A({type:"error",title:"Failed to load dashboard",message:t.message||"Unable to fetch your content"})}finally{b(!1)}},{bindGestures:z}=T({onSwipeLeft:()=>{const t=["overview","articles","storyboards","analytics"],r=(t.indexOf(a)+1)%t.length;m(t[r])},onSwipeRight:()=>{const t=["overview","articles","storyboards","analytics"],r=(t.indexOf(a)-1+t.length)%t.length;m(t[r])}}),v=()=>{p("/article/new")},f=()=>{p("/storyboard/new")},j=({icon:t,title:i,description:r,onClick:o,color:s="primary"})=>e.jsx("button",{onClick:o,className:`w-full p-6 rounded-lg border-2 border-dashed border-${s}-300 dark:border-${s}-600 hover:border-${s}-400 dark:hover:border-${s}-500 bg-${s}-50 dark:bg-${s}-900/20 hover:bg-${s}-100 dark:hover:bg-${s}-900/30 transition-all duration-200 group`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-12 h-12 mx-auto mb-4 rounded-full bg-${s}-100 dark:bg-${s}-800 flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:t}),e.jsx("h3",{className:`text-lg font-semibold text-${s}-900 dark:text-${s}-100 mb-2`,children:i}),e.jsx("p",{className:`text-sm text-${s}-700 dark:text-${s}-300`,children:r})]})}),c=({title:t,value:i,icon:r,trend:o,color:s="blue"})=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i}),o&&e.jsxs("p",{className:`text-sm ${o>0?"text-green-600":"text-red-600"}`,children:[o>0?"+":"",o,"% from last month"]})]}),e.jsx("div",{className:`w-12 h-12 rounded-full bg-${s}-100 dark:bg-${s}-800 flex items-center justify-center`,children:r})]})}),w=({article:t})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white line-clamp-2",children:t.title}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.status==="published"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:t.status})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:t.summary}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),t.view_count||0]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),t.share_count||0]})]}),e.jsx("span",{children:new Date(t.updated_at).toLocaleDateString()})]}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx(l,{to:`/article/${t.id}`,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white text-center py-2 px-4 rounded-lg font-medium transition-colors duration-200",children:"View"}),e.jsx(l,{to:`/article/${t.id}/edit`,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white text-center py-2 px-4 rounded-lg font-medium transition-colors duration-200",children:"Edit"})]})]}),N=({storyboard:t})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.isPublic&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full",children:"Public"}),t.isCollaborative&&e.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full",children:"Collaborative"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("span",{children:["Nodes: ",t.nodes?.length||0]}),e.jsxs("span",{children:["Connections: ",t.edges?.length||0]}),e.jsx("span",{children:new Date(t.updated_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{to:`/storyboard/${t.id}`,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white text-center py-2 px-4 rounded-lg font-medium transition-colors duration-200",children:"View"}),e.jsx(l,{to:`/storyboard/${t.id}/edit`,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white text-center py-2 px-4 rounded-lg font-medium transition-colors duration-200",children:"Edit"})]})]});return $?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(O,{size:"large",text:"Loading dashboard..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",y?.displayName||y?.username,"!"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[M?"Online":"Offline"," â€¢ Last updated ",new Date().toLocaleTimeString()]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(l,{to:"/settings",className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Settings",children:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",...z(),children:e.jsx("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 p-1 rounded-lg shadow-sm",children:[{id:"overview",label:"Overview",icon:"ðŸ“Š"},{id:"articles",label:"Articles",icon:"ðŸ“"},{id:"storyboards",label:"Storyboards",icon:"ðŸ—ºï¸"},{id:"analytics",label:"Analytics",icon:"ðŸ“ˆ"}].map(t=>e.jsxs("button",{onClick:()=>m(t.id),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md font-medium text-sm transition-all duration-200 ${a===t.id?"bg-primary-600 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{children:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),a==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c,{title:"Total Articles",value:d.totalArticles,icon:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"blue"}),e.jsx(c,{title:"Storyboards",value:d.totalStoryboards,icon:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"green"}),e.jsx(c,{title:"Total Views",value:d.totalViews,icon:e.jsxs("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),color:"purple"}),e.jsx(c,{title:"Total Shares",value:d.totalShares,icon:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),color:"orange"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(j,{icon:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),title:"Write Article",description:"Share your story with the world",onClick:v,color:"primary"}),e.jsx(j,{icon:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Create Storyboard",description:"Connect the dots between events",onClick:f,color:"green"}),e.jsx(j,{icon:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),title:"Search Content",description:"Find articles and connections",onClick:()=>p("/search"),color:"purple"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Articles"}),e.jsxs("div",{className:"space-y-4",children:[x.slice(0,3).map(t=>e.jsx(w,{article:t},t.id)),x.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{children:"No articles yet. Start writing your first story!"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Storyboards"}),e.jsxs("div",{className:"space-y-4",children:[h.slice(0,3).map(t=>e.jsx(N,{storyboard:t},t.id)),h.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("p",{children:"No storyboards yet. Create your first connection map!"})]})]})]})]})]}),a==="articles"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Articles"}),e.jsxs("button",{onClick:v,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Article"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(t=>e.jsx(w,{article:t},t.id))})]}),a==="storyboards"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Storyboards"}),e.jsxs("button",{onClick:f,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Storyboard"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(t=>e.jsx(N,{storyboard:t},t.id))})]}),a==="analytics"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Analytics"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Analytics Coming Soon"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Detailed analytics and insights will be available soon to help you understand your content's impact."})]})]})]})]})};export{Q as default};

import{c as E,a as F,j as e,L as $}from"./index-Dc-RHZ8Q.js";import{d as n,e as D,L as p}from"./vendor-DZhegkiK.js";import{u as H}from"./useVoiceHints-BWE_yW86.js";import"./api-ngrFHoWO.js";import"./crypto-DhyMKz0y.js";const B=()=>{const[r,j]=n.useState({username:"",email:"",password:"",confirmPassword:"",displayName:"",bio:"",agreeToTerms:!1,subscribeNewsletter:!1}),[a,m]=n.useState({}),[h,y]=n.useState(!1),[o,N]=n.useState(0),{register:v,isAuthenticated:b,loading:P}=E(),{showNotification:C,userPreferences:f}=F(),{startListening:S,isListening:x,transcript:u,processVoiceCommand:w}=H(),c=D();n.useEffect(()=>{b&&c("/dashboard",{replace:!0})},[b,c]),n.useEffect(()=>{if(u){const s=w(u);s.action==="navigate"&&s.target==="/login"&&c("/login")}},[u,w,c]),n.useEffect(()=>{N((t=>{let d=0;return t.length>=8&&d++,/[a-z]/.test(t)&&d++,/[A-Z]/.test(t)&&d++,/[0-9]/.test(t)&&d++,/[^A-Za-z0-9]/.test(t)&&d++,d})(r.password))},[r.password]);const i=s=>{const{name:t,value:d,type:k,checked:g}=s.target;j(l=>({...l,[t]:k==="checkbox"?g:d})),a[t]&&m(l=>({...l,[t]:""}))},T=()=>{const s={};return r.username?r.username.length<3?s.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(r.username)||(s.username="Username can only contain letters, numbers, and underscores"):s.username="Username is required",r.email?/\S+@\S+\.\S+/.test(r.email)||(s.email="Email is invalid"):s.email="Email is required",r.displayName?r.displayName.length<2&&(s.displayName="Display name must be at least 2 characters"):s.displayName="Display name is required",r.password?r.password.length<8?s.password="Password must be at least 8 characters":o<3&&(s.password="Password is too weak. Use uppercase, lowercase, numbers, and symbols"):s.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",r.agreeToTerms||(s.agreeToTerms="You must agree to the terms and conditions"),m(s),Object.keys(s).length===0},L=async s=>{if(s.preventDefault(),!!T()){y(!0);try{const{confirmPassword:t,agreeToTerms:d,subscribeNewsletter:k,...g}=r,l=await v(g);l.success?(C({type:"success",title:"Welcome to Underground Voices!",message:"Your account has been created successfully."}),c("/dashboard",{replace:!0})):m({general:l.error||"Registration failed"})}catch(t){m({general:t.message||"An unexpected error occurred"})}finally{y(!1)}}},V=()=>o<=2?"text-red-600":o<=3?"text-yellow-600":"text-green-600",A=()=>o<=2?"Weak":o<=3?"Medium":"Strong";return P?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx($,{size:"large",text:"Loading..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Join Underground Voices"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(p,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200",children:"Sign in here"})]})]})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-200 dark:border-gray-700",children:[e.jsxs("form",{className:"space-y-6",onSubmit:L,children:[a.general&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:a.general})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Name *"}),e.jsx("input",{id:"displayName",name:"displayName",type:"text",value:r.displayName,onChange:i,className:`mt-1 appearance-none block w-full px-3 py-2 border ${a.displayName?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"Your public display name","aria-describedby":a.displayName?"displayName-error":void 0}),a.displayName&&e.jsx("p",{id:"displayName-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.displayName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username *"}),e.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:i,className:`mt-1 appearance-none block w-full px-3 py-2 border ${a.username?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"Choose a unique username","aria-describedby":a.username?"username-error":void 0}),a.username&&e.jsx("p",{id:"username-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.username})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address *"}),e.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:i,className:`mt-1 appearance-none block w-full px-3 py-2 border ${a.email?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"your@email.com","aria-describedby":a.email?"email-error":void 0}),a.email&&e.jsx("p",{id:"email-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio (Optional)"}),e.jsx("textarea",{id:"bio",name:"bio",rows:3,value:r.bio,onChange:i,className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm",placeholder:"Tell us about yourself and your interests..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password *"}),e.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:i,className:`mt-1 appearance-none block w-full px-3 py-2 border ${a.password?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"Create a strong password","aria-describedby":a.password?"password-error":"password-strength"}),r.password&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o<=2?"bg-red-500":o<=3?"bg-yellow-500":"bg-green-500"}`,style:{width:`${o/5*100}%`}})}),e.jsx("span",{className:`text-sm font-medium ${V()}`,children:A()})]})}),a.password&&e.jsx("p",{id:"password-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm Password *"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:i,className:`mt-1 appearance-none block w-full px-3 py-2 border ${a.confirmPassword?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"Confirm your password","aria-describedby":a.confirmPassword?"confirmPassword-error":void 0}),a.confirmPassword&&e.jsx("p",{id:"confirmPassword-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.confirmPassword})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:r.agreeToTerms,onChange:i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsxs("label",{htmlFor:"agreeToTerms",className:"text-gray-700 dark:text-gray-300",children:["I agree to the"," ",e.jsx(p,{to:"/terms",className:"text-primary-600 hover:text-primary-500 dark:text-primary-400",children:"Terms of Service"})," ","and"," ",e.jsx(p,{to:"/privacy",className:"text-primary-600 hover:text-primary-500 dark:text-primary-400",children:"Privacy Policy"}),"*"]}),a.agreeToTerms&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.agreeToTerms})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"subscribeNewsletter",name:"subscribeNewsletter",type:"checkbox",checked:r.subscribeNewsletter,onChange:i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded"})}),e.jsx("div",{className:"ml-3 text-sm",children:e.jsx("label",{htmlFor:"subscribeNewsletter",className:"text-gray-700 dark:text-gray-300",children:"Subscribe to our newsletter for updates and tips"})})]})]}),f.enableVoiceHints&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("button",{type:"button",onClick:S,disabled:x,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${x?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),e.jsx("span",{children:x?"Listening...":"Voice Input"})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors duration-200",children:h?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Creating account..."})]}):"Create Account"})})]}),f.enableVoiceHints&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Voice Commands"}),e.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:'• "Go to login" - Switch to login page'}),e.jsx("li",{children:'• "Dark mode" or "Light mode" - Change theme'}),e.jsx("li",{children:'• "Help" - Get assistance'})]})]})]})})]})};export{B as default};

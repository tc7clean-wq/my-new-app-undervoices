import{c as E,a as H,j as e,L as z}from"./index-Dc-RHZ8Q.js";import{d as o,e as W,u as B,L as k}from"./vendor-DZhegkiK.js";import{u as D}from"./useVoiceHints-BWE_yW86.js";import"./api-ngrFHoWO.js";import"./crypto-DhyMKz0y.js";const G=()=>{const[a,g]=o.useState({email:"",password:"",rememberMe:!1}),[s,n]=o.useState({}),[h,p]=o.useState(!1),{login:v,isAuthenticated:b,loading:w}=E(),{showNotification:d,userPreferences:y}=H(),{startListening:N,isListening:l,transcript:c,processVoiceCommand:f}=D(),i=W(),m=B().state?.from?.pathname||"/dashboard";o.useEffect(()=>{b&&i(m,{replace:!0})},[b,i,m]),o.useEffect(()=>{if(c){const r=f(c);r.action==="navigate"&&r.target==="/register"?i("/register"):r.action==="theme"&&d({type:"info",title:"Voice Command",message:`Switching to ${r.target} mode`})}},[c,f,i,d]);const x=r=>{const{name:t,value:M,type:S,checked:V}=r.target;g(u=>({...u,[t]:S==="checkbox"?V:M})),s[t]&&n(u=>({...u,[t]:""}))},L=()=>{const r={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(r.email="Email is invalid"):r.email="Email is required",a.password?a.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",n(r),Object.keys(r).length===0},j=async r=>{if(r.preventDefault(),!!L()){p(!0);try{const t=await v(a,a.rememberMe);t.success?(d({type:"success",title:"Welcome back!",message:"You have been successfully logged in."}),i(m,{replace:!0})):n({general:t.error||"Login failed"})}catch(t){n({general:t.message||"An unexpected error occurred"})}finally{p(!1)}}},C=async()=>{g({email:"demo@undergroundvoices.com",password:"demo123",rememberMe:!1}),setTimeout(()=>{j(new Event("submit"))},500)};return w?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(z,{size:"large",text:"Loading..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",e.jsx(k,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200",children:"create a new account"})]})]})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-200 dark:border-gray-700",children:[e.jsxs("form",{className:"space-y-6",onSubmit:j,children:[s.general&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:s.general})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:a.email,onChange:x,className:`appearance-none block w-full px-3 py-2 border ${s.email?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"Enter your email","aria-describedby":s.email?"email-error":void 0}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),s.email&&e.jsx("p",{id:"email-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:a.password,onChange:x,className:`appearance-none block w-full px-3 py-2 border ${s.password?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-md placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm`,placeholder:"Enter your password","aria-describedby":s.password?"password-error":void 0}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),s.password&&e.jsx("p",{id:"password-error",className:"mt-2 text-sm text-red-600 dark:text-red-400",children:s.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:a.rememberMe,onChange:x,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded"}),e.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(k,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200",children:"Forgot your password?"})})]}),y.enableVoiceHints&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("button",{type:"button",onClick:N,disabled:l,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${l?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),e.jsx("span",{children:l?"Listening...":"Voice Input"})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors duration-200",children:h?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Signing in..."})]}):"Sign in"})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or try demo"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:C,className:"w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Demo Login"]})})]})]}),y.enableVoiceHints&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Voice Commands"}),e.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:'• "Go to register" - Switch to registration'}),e.jsx("li",{children:'• "Dark mode" or "Light mode" - Change theme'}),e.jsx("li",{children:'• "Help" - Get assistance'})]})]})]})})]})};export{G as default};
